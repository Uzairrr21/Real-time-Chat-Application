{"ast":null,"code":"// Add this near other imports\nimport { useCallback } from 'react';\n\n// Update the loadUser function (around line 85)\nconst loadUser = useCallback(async () => {\n  try {\n    setAuthToken(token);\n    const decoded = jwt_decode(token);\n    setUser(decoded);\n    setIsAuthenticated(true);\n  } catch (err) {\n    console.error(err);\n    logout();\n  } finally {\n    setLoading(false);\n  }\n}, [token, logout]); // Add dependencies here\n\n// Then update the useEffect\nuseEffect(() => {\n  if (token) {\n    loadUser();\n  } else {\n    setLoading(false);\n  }\n}, [token, loadUser]); // Now includes loadUser as a dependency","map":{"version":3,"names":["useCallback","loadUser","setAuthToken","token","decoded","jwt_decode","setUser","setIsAuthenticated","err","console","error","logout","setLoading","useEffect"],"sources":["C:/Users/DELL/OneDrive/Desktop/mern-chat-app/frontend/src/context/AuthContext.js"],"sourcesContent":["// Add this near other imports\r\nimport { useCallback } from 'react';\r\n\r\n// Update the loadUser function (around line 85)\r\nconst loadUser = useCallback(async () => {\r\n  try {\r\n    setAuthToken(token);\r\n    const decoded = jwt_decode(token);\r\n    setUser(decoded);\r\n    setIsAuthenticated(true);\r\n  } catch (err) {\r\n    console.error(err);\r\n    logout();\r\n  } finally {\r\n    setLoading(false);\r\n  }\r\n}, [token, logout]); // Add dependencies here\r\n\r\n// Then update the useEffect\r\nuseEffect(() => {\r\n  if (token) {\r\n    loadUser();\r\n  } else {\r\n    setLoading(false);\r\n  }\r\n}, [token, loadUser]); // Now includes loadUser as a dependency"],"mappings":"AAAA;AACA,SAASA,WAAW,QAAQ,OAAO;;AAEnC;AACA,MAAMC,QAAQ,GAAGD,WAAW,CAAC,YAAY;EACvC,IAAI;IACFE,YAAY,CAACC,KAAK,CAAC;IACnB,MAAMC,OAAO,GAAGC,UAAU,CAACF,KAAK,CAAC;IACjCG,OAAO,CAACF,OAAO,CAAC;IAChBG,kBAAkB,CAAC,IAAI,CAAC;EAC1B,CAAC,CAAC,OAAOC,GAAG,EAAE;IACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;IAClBG,MAAM,CAAC,CAAC;EACV,CAAC,SAAS;IACRC,UAAU,CAAC,KAAK,CAAC;EACnB;AACF,CAAC,EAAE,CAACT,KAAK,EAAEQ,MAAM,CAAC,CAAC,CAAC,CAAC;;AAErB;AACAE,SAAS,CAAC,MAAM;EACd,IAAIV,KAAK,EAAE;IACTF,QAAQ,CAAC,CAAC;EACZ,CAAC,MAAM;IACLW,UAAU,CAAC,KAAK,CAAC;EACnB;AACF,CAAC,EAAE,CAACT,KAAK,EAAEF,QAAQ,CAAC,CAAC,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}